(()=>{"use strict";var t={487:(t,e,n)=>{n(6992),n(8674),n(9601),n(7727);var d=n(9963),r=n(6252),u={id:"app"};function s(t,e,n,d,s,a){var i=(0,r.up)("NewStudentForm"),o=(0,r.up)("StudentTable"),l=(0,r.up)("StudentMessage");return(0,r.wg)(),(0,r.iD)("div",u,[(0,r.Wm)(i,{onStudentAdded:a.newStudentAdded},null,8,["onStudentAdded"]),(0,r.Wm)(o,{students:s.students,onStudentPresent:a.studentArrivedOrLeft,onDeleteStudent:a.studentDeleted},null,8,["students","onStudentPresent","onDeleteStudent"]),(0,r.Wm)(l,{student:s.mostRecentStudent},null,8,["student"])])}n(9600);var a=n(3577),i=function(t){return(0,r.dD)("data-v-0740766a"),t=t(),(0,r.Cn)(),t},o={class:"alert alert-danger"},l={class:"card add-student m-2 p-2"},c=i((function(){return(0,r._)("h4",{class:"card-title"},"Add new student",-1)})),f={class:"form-group"},p=i((function(){return(0,r._)("label",{for:"name"},"Name",-1)})),h={class:"form-group"},m=i((function(){return(0,r._)("label",{for:"starID"},"Star ID",-1)}));function S(t,e,n,u,s,i){return(0,r.wg)(),(0,r.iD)("div",null,[(0,r.wy)((0,r._)("div",o,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(s.errors,(function(t){return(0,r.wg)(),(0,r.iD)("li",{key:t},(0,a.zw)(t),1)})),128))],512),[[d.F8,s.errors.length>0]]),(0,r._)("div",l,[c,(0,r._)("div",f,[p,(0,r.wy)((0,r._)("input",{id:"name",class:"form-control","onUpdate:modelValue":e[0]||(e[0]=function(t){return s.newStudentName=t})},null,512),[[d.nr,s.newStudentName,void 0,{trim:!0}]])]),(0,r._)("div",h,[m,(0,r.wy)((0,r._)("input",{id:"starID",class:"form-control","onUpdate:modelValue":e[1]||(e[1]=function(t){return s.newStarID=t})},null,512),[[d.nr,s.newStarID,void 0,{trim:!0}]])]),(0,r._)("button",{class:"btn btn-primary",onClick:e[2]||(e[2]=function(){return i.addStudent&&i.addStudent.apply(i,arguments)})},"Add")])])}n(7658);const A={name:"NewStudentForm",emits:["student-added"],data:function(){return{newStudentName:"",newStarID:"",errors:[]}},methods:{addStudent:function(){if(this.errors=[],this.newStudentName||this.errors.push("Student name is required"),this.newStarID||this.errors.push("StarID is required"),0==this.errors.length){var t={name:this.newStudentName,StarID:this.newStarID,present:!1};this.$emit("student-added",t),this.newStudentName="",this.newStarID=""}}}};var v=n(3744);const w=(0,v.Z)(A,[["render",S],["__scopeId","data-v-0740766a"]]),b=w;n(8309);var g={class:"card student-list m-2 p-2"},y=(0,r._)("h4",{class:"card-title"},"Students",-1),D={class:"edit-table-toggle form-check"},I=(0,r._)("label",{for:"edit-table",class:"form-check-label"},"Edit table?",-1),_={id:"student-table"},k={class:"table"},O=(0,r._)("th",null,"Name",-1),C=(0,r._)("th",null,"StarID",-1),M=(0,r._)("th",null,"Present?",-1);function j(t,e,n,u,s,a){var i=(0,r.up)("StudentRow");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r._)("div",g,[y,(0,r._)("div",D,[(0,r.wy)((0,r._)("input",{id:"edit-table",type:"checkbox",class:"form-check-input","onUpdate:modelValue":e[0]||(e[0]=function(t){return s.editTable=t})},null,512),[[d.e8,s.editTable]]),I]),(0,r._)("div",_,[(0,r._)("table",k,[(0,r._)("tr",null,[O,C,M,(0,r.wy)((0,r._)("th",null,"Delete",512),[[d.F8,s.editTable]])]),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(n.students,(function(t){return(0,r.wg)(),(0,r.j4)(i,{key:t.name,student:t,edit:s.editTable,onStudentArrivedOrLeft:a.arrivedOrLeft,onDeleteStudent:a.studentDeleted},null,8,["student","edit","onStudentArrivedOrLeft","onDeleteStudent"])})),128))])])])])}const U="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAM2SURBVGhD7ZnLbtNAFIYjbgt23FbAC7BCSmYIUqWIcalYsCTitoMtrItgwQKJdE0rlcsjoCJVFCQeAygPAJQNAVTiJCqgZjhneiyF5Iztie1JkfxLnxTLM+f8x554xuNKqVKlsks3m3t7s7LeVfIusNINxAfgRxjI3wj+7gZy3ZyDNthW36/soe7TU3+udhIMLoRKfAGD2oUwEBvYt9eQJyicP3Ua1aOhkk+BX5w5FzAGFLKMMSl8sYIrd62rxHfOTEbaGJvS5C/dPHUArtQzJnGuQBGPdbW6n9LmI32xehDMv+YSFgEU8QpzUvpsoivvzXwEFLGay53wMWxs4HAiG5MJAlznAvskDGqXyY6bOhdOH4NJ5xsX1DPtn4E4QrbSC28fE2xKiCWylU5mhnWZpM7Xdf/2Tf4cg2kLfbhzHOilp+rHyV6y4I+7wAViASN/3qxpvb2ttx7c49sMgW2wLfZxLKJF9uKFiywYPhtckDEi85ESiojMR3IpAgr4lGoB2A/EWS4AR//WjX8MGVmKGDVvBMcYY7StjZ6qSrJpl1kSM51t2IwNF5GmTSpmxR2yaReM/xds5xjiDOZm3iCek027oOH6eMdkWKMDOB4M6IA0sXlAyfdk0y56e+IDJMAWMaws5hGYWMmmXU7PfwZTBF75UcGdyGQeQG9k0658ChgZNigoyksB//0Qwj8K2zkB1jzeidHhlKUIJd6RTbuggBW2cwyseTIad46LFU+ax+hunsiUmCebdpkNKq4zg/elRFATZNMuWsx95gKMsRsXcyho3OKCsERFJJiPiIpwMY+ESjwke8nC7T6n+QCMFPxCs+X0QoOCRd0yF2w6iEWylV74Io0TBx/QI0p+3ZyrHyZbbgrPyatsUI/A8GmSnckEf54nXGAvKPmIbEyuna1FscomKBDMiR9OyEY2mc1dJda4REUAw+Zlbpu7kXCj1c9ml1jUjcY+Spu/QnXmCiRqjyfOTLuj5CVKU6zMIzYQS06TnQWcpPCqb87MHKLw/kQzdgv4yJmLA/vg8sB5hi1CuMjCTSfct8E1O7544Hc0vEPIzjc18ZbOzeOqMvXCrFSpUjGqVP4C/xYkeiCFjZAAAAAASUVORK5CYII=";var x=["checked"];function F(t,e,n,u,s,i){return(0,r.wg)(),(0,r.iD)("tr",{class:(0,a.C_)({present:n.student.present,absent:!n.student.present})},[(0,r._)("td",null,(0,a.zw)(n.student.name),1),(0,r._)("td",null,(0,a.zw)(n.student.StarID),1),(0,r._)("td",null,[(0,r._)("input",{type:"checkbox",checked:n.student.present,onChange:e[0]||(e[0]=function(t){return i.arrivedOrLeft(n.student,t.target.checked)})},null,40,x)]),(0,r.wy)((0,r._)("td",null,[(0,r._)("img",{class:"delete-icon",onClick:e[1]||(e[1]=function(){return i.deleteStudent&&i.deleteStudent.apply(i,arguments)}),src:U})],512),[[d.F8,n.edit]])],2)}const R={name:"StudentRow",emits:["student-arrived-or-left","delete-student"],props:{student:Object,edit:Boolean},methods:{arrivedOrLeft:function(t,e){this.$emit("student-arrived-or-left",t,e)},deleteStudent:function(){confirm("Delete ".concat(this.student.name,"?"))&&this.$emit("delete-student",this.student)}}},T=(0,v.Z)(R,[["render",F]]),Z=T,N={name:"StudentTable",components:{StudentRow:Z},emits:["student-present","delete-student"],data:function(){return{editTable:!1}},props:{students:Array},methods:{arrivedOrLeft:function(t,e){this.$emit("student-present",t,e)},studentDeleted:function(t){this.$emit("delete-student",t)}}},E=(0,v.Z)(N,[["render",j]]),G=E;var K={key:0,class:"alert alert-success"},L={key:1,class:"alert alert-info"};function Q(t,e,n,u,s,i){return(0,r.wg)(),(0,r.iD)("div",null,[(0,r.wy)((0,r._)("div",null,[n.student.present?((0,r.wg)(),(0,r.iD)("div",K," Welcome, "+(0,a.zw)(n.student.name)+"! ",1)):((0,r.wg)(),(0,r.iD)("div",L," Goodbye, "+(0,a.zw)(n.student.name)+". See you later! ",1))],512),[[d.F8,n.student.name]])])}const Y={name:"StudentMessage",props:{student:Object}},z=(0,v.Z)(Y,[["render",Q],["__scopeId","data-v-3da39674"]]),P=z,W={name:"app",data:function(){return{students:[],mostRecentStudent:{}}},components:{NewStudentForm:b,StudentTable:G,StudentMessage:P},mounted:function(){this.updateStudent()},methods:{updateStudent:function(){var t=this;this.$student_api.getAllStudents().then((function(e){t.students=e}))["catch"]((function(){return alert("Unable to fetch student list")}))},newStudentAdded:function(t){var e=this;this.$student_api.addStudent(t).then((function(){e.updateStudent()}))["catch"]((function(t){var e=t.response.data.join(",");alert("Error adding student\n"+e)}))},studentArrivedOrLeft:function(t,e){var n=this;t.present=e,this.$student_api.updateStudent(t).then((function(){n.mostRecentStudent=t,n.updateStudent()}))["catch"]((function(){return alert("Unable to update student")}))},studentDeleted:function(t){var e=this;this.$student_api.deleteStudent(t.id).then((function(){e.updateStudent(),e.mostRecentStudent={}}))["catch"]((function(){return alert("Unable to delete student")}))}}},B=(0,v.Z)(W,[["render",s]]),J=B;var V=n(6154),X="/api/students";const q={getAllStudents:function(){return V.Z.get(X).then((function(t){return t.data}))},addStudent:function(t){return V.Z.post(X,t).then((function(t){return t.data}))},updateStudent:function(t){return V.Z.patch("".concat(X,"/").concat(t.id),t).then((function(t){return t.data}))},deleteStudent:function(t){return V.Z["delete"]("".concat(X,"/").concat(t)).then((function(t){return t.data}))}};var H=(0,d.ri)(J);H.config.globalProperties.$student_api=q,H.mount("#app")}},e={};function n(d){var r=e[d];if(void 0!==r)return r.exports;var u=e[d]={exports:{}};return t[d](u,u.exports,n),u.exports}n.m=t,(()=>{var t=[];n.O=(e,d,r,u)=>{if(!d){var s=1/0;for(l=0;l<t.length;l++){for(var[d,r,u]=t[l],a=!0,i=0;i<d.length;i++)(!1&u||s>=u)&&Object.keys(n.O).every((t=>n.O[t](d[i])))?d.splice(i--,1):(a=!1,u<s&&(s=u));if(a){t.splice(l--,1);var o=r();void 0!==o&&(e=o)}}return e}u=u||0;for(var l=t.length;l>0&&t[l-1][2]>u;l--)t[l]=t[l-1];t[l]=[d,r,u]}})(),(()=>{n.d=(t,e)=>{for(var d in e)n.o(e,d)&&!n.o(t,d)&&Object.defineProperty(t,d,{enumerable:!0,get:e[d]})}})(),(()=>{n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()})(),(()=>{n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e)})(),(()=>{var t={143:0};n.O.j=e=>0===t[e];var e=(e,d)=>{var r,u,[s,a,i]=d,o=0;if(s.some((e=>0!==t[e]))){for(r in a)n.o(a,r)&&(n.m[r]=a[r]);if(i)var l=i(n)}for(e&&e(d);o<s.length;o++)u=s[o],n.o(t,u)&&t[u]&&t[u][0](),t[u]=0;return n.O(l)},d=self["webpackChunkstudent_sign_in"]=self["webpackChunkstudent_sign_in"]||[];d.forEach(e.bind(null,0)),d.push=e.bind(null,d.push.bind(d))})();var d=n.O(void 0,[998],(()=>n(487)));d=n.O(d)})();
//# sourceMappingURL=app.8d1ab98b.js.map